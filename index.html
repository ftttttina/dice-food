<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>ğŸ² æç®€ 3D æ‘‡ä¸€æ‘‡</title>
  <style>
    :root { 
      --accent: #ffcc00; 
      --glass: rgba(255, 255, 255, 0.1);
      --glass-border: rgba(255, 255, 255, 0.2);
    }

    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at center, #2c2c2c 0%, #000 100%);
      color: #fff; text-align: center;
      padding: 20px; margin: 0; min-height: 100vh;
      display: flex; flex-direction: column; align-items: center;
      overflow-x: hidden;
    }

    h1 { font-size: 1.8rem; font-weight: 300; letter-spacing: 2px; margin-top: 50px; }
    
    /* --- 3D ç»ç’ƒæ„Ÿéª°å­ --- */
    .dice-container { 
      display: flex; gap: 30px; margin: 50px 0; 
      font-size: 110px; 
      line-height: 1;
      perspective: 1000px;
    }

    .dice {
      color: #fff;
      /* å¤šå±‚é˜´å½±æ¨¡æ‹Ÿç«‹ä½“æ„Ÿå’Œå‘å…‰ */
      text-shadow: 
        0 1px 0 #ccc, 
        0 2px 0 #c9c9c9, 
        0 3px 0 #bbb, 
        0 4px 0 #b9b9b9, 
        0 5px 0 #aaa, 
        0 6px 1px rgba(0,0,0,.1), 
        0 0 5px rgba(0,0,0,.1), 
        0 1px 3px rgba(0,0,0,.3), 
        0 3px 5px rgba(0,0,0,.2), 
        0 5px 10px rgba(0,0,0,.25), 
        0 10px 10px rgba(0,0,0,.2), 
        0 20px 20px rgba(0,0,0,.15),
        0 0 15px var(--accent); /* æ ¸å¿ƒéœ“è™¹æ„Ÿ */
      transition: all 0.2s ease;
    }
    
    .rolling { 
      animation: shake3d 0.15s infinite; 
      color: var(--accent);
    }

    @keyframes shake3d {
      0% { transform: rotateX(20deg) rotateY(20deg) translateZ(10px); }
      50% { transform: rotateX(-20deg) rotateY(-20deg) translateZ(30px); }
      100% { transform: rotateX(20deg) rotateY(20deg) translateZ(10px); }
    }

    /* --- æ¯›ç»ç’ƒæŒ‰é’® --- */
    .glass-btn {
      background: var(--glass);
      backdrop-filter: blur(15px); /* æ¯›ç»ç’ƒæ ¸å¿ƒ */
      -webkit-backdrop-filter: blur(15px);
      border: 1px solid var(--glass-border);
      color: #fff;
      padding: 16px 40px;
      font-size: 1rem;
      letter-spacing: 1px;
      border-radius: 18px;
      cursor: pointer;
      margin: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    }

    .glass-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-3px);
      border: 1px solid rgba(255, 255, 255, 0.4);
    }

    .glass-btn:active { transform: scale(0.95); }
    
    #motionBtn { 
      background: transparent; 
      font-size: 0.75rem; 
      opacity: 0.5; 
      border: none;
      backdrop-filter: none;
      text-decoration: underline;
    }

    /* --- ç»“æœå¡ç‰‡ --- */
    .result-card {
      margin-top: 40px; padding: 30px; 
      border-radius: 30px;
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.05);
      width: 80%; max-width: 320px;
      box-shadow: inset 0 0 20px rgba(255,255,255,0.05);
      animation: slideUp 0.5s ease-out;
    }

    @keyframes slideUp { 
      from { opacity: 0; transform: translateY(30px); } 
      to { opacity: 1; transform: translateY(0); } 
    }
  </style>
</head>
<body>

  <h1>ğŸ² å‘½å®šæ™šé¤</h1>
  <p style="opacity: 0.4; font-size: 0.9rem;">Decision Paralysis Ends Here</p>

  <div class="dice-container">
    <div id="dice1" class="dice">âš…</div>
    <div id="dice2" class="dice">âš„</div>
  </div>

  <button id="rollBtn" class="glass-btn" onclick="rollDice()">æ·éª°å­</button>
  <button id="motionBtn" onclick="requestPermission()">ç‚¹å‡»æˆæƒæ‘‡ä¸€æ‘‡</button>

  <div id="result"></div>

  <script>
    const diceFaces = ["", "âš€", "âš", "âš‚", "âšƒ", "âš„", "âš…"];
    const foods = ["ç«é”…", "é¡¶çº§å’Œç‰›", "èŠå£«æ±‰å ¡", "éº»è¾£çƒ«", "æ„å¤§åˆ©é¢", "æ·±å¤œæ‹‰é¢", "è„†çš®ç‚¸é¸¡", "ç”Ÿæ¤°æ²™æ‹‰", "å·å¼ç‚’èœ", "æ³°å¼å’–å–±"];
    const emojis = ["ğŸ”¥", "ğŸ¥©", "ğŸ”", "ğŸŒ¶ï¸", "ğŸ", "ğŸœ", "ğŸ—", "ğŸ¥—", "ğŸ¥˜", "ğŸ›"];
    const quotes = [
      "è¿™å°±æ˜¯ä½ ä»Šå¤©çš„å®¿å‘½ã€‚",
      "èƒƒè¢«å¡«æ»¡æ—¶ï¼Œçµé­‚æ‰ä¸ä¼šæ¸¸è¡ã€‚",
      "ä½ åœ¨é€ƒé¿äººç”Ÿï¼Œè€Œæˆ‘åœ¨å¸®ä½ é€‰æ™šé¤ã€‚",
      "ä¸ç”¨è°¢ï¼Œéª°å­ä»ä¸è¯´è°ã€‚",
      "è¿™æ˜¯ä½ å¹³å‡¡ç”Ÿæ´»é‡Œå”¯ä¸€çš„éšæœºæƒŠå–œã€‚"
    ];

    function rollDice() {
      const d1 = document.getElementById("dice1");
      const d2 = document.getElementById("dice2");
      const btn = document.getElementById("rollBtn");
      const resultBox = document.getElementById("result");
      
      if (btn.disabled) return;
      btn.disabled = true;
      resultBox.innerHTML = "";

      d1.classList.add("rolling");
      d2.classList.add("rolling");

      let count = 0;
      const interval = setInterval(() => {
        d1.textContent = diceFaces[Math.floor(Math.random() * 6) + 1];
        d2.textContent = diceFaces[Math.floor(Math.random() * 6) + 1];
        count++;
        if (count > 12) {
          clearInterval(interval);
          finalize();
        }
      }, 70);

      function finalize() {
        d1.classList.remove("rolling");
        d2.classList.remove("rolling");

        const idx = Math.floor(Math.random() * foods.length);
        const quote = quotes[Math.floor(Math.random() * quotes.length)];
        
        resultBox.innerHTML = `
          <div class="result-card">
            <div style="font-size: 0.8rem; opacity: 0.5; margin-bottom: 10px; text-transform: uppercase;">Result</div>
            <div style="font-size: 2rem; font-weight: bold; margin-bottom: 15px;">
              ${emojis[idx]} ${foods[idx]}
            </div>
            <div style="color: var(--accent); font-size: 0.85rem; line-height: 1.5; opacity: 0.9;">
              "${quote}"
            </div>
          </div>
        `;
        btn.disabled = false;
      }
    }

    // --- ä¼ æ„Ÿå™¨æˆæƒé€»è¾‘ ---
    let lastX, lastY, lastZ, lastUpdate = 0;
    function requestPermission() {
      if (typeof DeviceMotionEvent !== 'undefined' && typeof DeviceMotionEvent.requestPermission === 'function') {
        DeviceMotionEvent.requestPermission().then(res => {
          if (res === 'granted') {
            startMotion();
            document.getElementById("motionBtn").style.visibility = "hidden";
          }
        });
      } else {
        startMotion();
        document.getElementById("motionBtn").textContent = "æ‘‡ä¸€æ‘‡å·²å¼€å¯";
      }
    }

    function startMotion() {
      window.addEventListener('devicemotion', (e) => {
        const acc = e.accelerationIncludingGravity;
        const now = Date.now();
        if ((now - lastUpdate) > 100) {
          let diff = now - lastUpdate;
          lastUpdate = now;
          let speed = Math.abs(acc.x + acc.y + acc.z - lastX - lastY - lastZ) / diff * 10000;
          if (speed > 1200) rollDice();
          lastX = acc.x; lastY = acc.y; lastZ = acc.z;
        }
      });
    }
  </script>
</body>
</html>
